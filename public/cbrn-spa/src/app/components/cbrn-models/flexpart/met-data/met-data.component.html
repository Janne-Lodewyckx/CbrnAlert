<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <span *ngFor="let formItem of formItems">
        <mat-form-field 
            *ngIf="formItem.type == 'input'" 
            class="form-control" 
            appearance="outline" 
            floatLabel="never">
            <mat-label> {{ formItem.label }} </mat-label>
            <input 
                matInput
                [formControlName]="formItem.controlName"
                [value]="formItem.placeholder !== undefined ? (formItem.placeholder | around : 2) : formItem.placeholder">
            <mat-hint *ngIf="formItem.hint !== undefined">{{ formItem.hint }}</mat-hint>
            <mat-error *ngIf="formItem.controlName.invalid"> error ! </mat-error>
        </mat-form-field>
        <mat-form-field 
            *ngIf="formItem.type == 'select'" 
            class="form-control" 
            appearance="outline" 
            floatLabel="never">
            <mat-label> {{ formItem.label }} </mat-label>
            <select matNativeControl [formControlName]="formItem.controlName">
                <option *ngFor="let val of formItem.placeholder" [ngValue]="val"> {{ val }} </option>
            </select>
            <mat-hint *ngIf="formItem.hint !== undefined">{{ formItem.hint }}</mat-hint>
            <mat-error *ngIf="formItem.controlName.invalid"> error ! </mat-error>
        </mat-form-field>
        <mat-form-field 
            *ngIf="formItem.type == 'datepicker'" 
            class="form-control" 
            appearance="outline" 
            floatLabel="never">
            <mat-label> {{ formItem.label }} </mat-label>
            <input 
                matInput 
                [matDatepicker]="picker" 
                [min]="formItem.minMaxDate.min" 
                [max]="formItem.minMaxDate.max" 
                [formControlName]="formItem.controlName">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
    </span>
    <button 
        mat-raised-button 
        color="primary" 
        type="submit" 
        [disabled]="formGroup.invalid">Send data request</button>
    <!-- <button type="button" (click)="request()"></button> -->
</form>